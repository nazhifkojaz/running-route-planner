<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Running Route Planner</title>
  </head>
  <body>
    <!-- Stats overlay (top-left) -->
    <div id="statsPanel" class="panel stats">
      <div><strong>Distance:</strong> <span id="distVal">-</span></div>
      <div><strong>Elevation:</strong> <span id="elevVal">-</span></div>
      <div><strong>Elapsed Time:</strong> <span id="etaVal">-</span></div>
    </div>

    <!-- Toggleable entry form (bottom sheet) -->
    <div id="panel" class="panel sheet hidden" role="dialog" aria-modal="true">
      <div class="handle" aria-hidden="true"></div>

      <div class="field">
        <label class="check">
          <input id="loop" type="checkbox" />
          Loop route (return to start)
        </label>
      </div>

      <div class="row">
        <div class="field">
          <label for="laps">Laps</label>
          <input id="laps" type="number" min="1" value="1" inputmode="numeric" />
        </div>
        <div class="field">
          <label for="pace">Target pace (/km)</label>
          <input id="pace" type="text" placeholder="e.g. 5:30" />
        </div>
      </div>

      <details class="field">
        <summary>Advanced settings</summary>
        <label class="small muted" for="engine">Routing engine</label>
        <select id="engine">
          <option value="ors-foot-direction" selected>ORS (foot-walking, direction)</option>
          <option value="ors-cycle-direction">ORS (cycling-regular, direction)</option>
          <option value="ors-foot-snap">ORS (foot-walking, snap to nearest edge)</option>
          <option value="osrm-driving">OSRM (driving, one-way aware)</option>
        </select>
        <p id="engineNote" class="small muted"></p>

        <div class="row">
          <button id="undoBtn" type="button">Undo last waypoint</button>
          <button id="resetBtn" class="danger" type="button" title="Remove all waypoints">Reset waypoints</button>
        </div>
      </details>

      <p class="muted small">Tap the map to add waypoints. Drag markers to adjust.</p>
    </div>

    <!-- FABs: calculate + options -->
    <button id="calcBtn" class="fab calc" title="Calculate route" aria-label="Calculate route">▶</button>
    <button id="panelToggle" class="fab options" aria-controls="panel" aria-expanded="false" title="Options">⋯</button>

    <!-- Map -->
    <div id="map"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
