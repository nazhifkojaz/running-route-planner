<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Running Route Planner</title>
  </head>
  <body>

    <!-- Account panel (stays in HTML) -->
    <div id="userPanel" class="panel sheet hidden" role="dialog" aria-modal="true" aria-labelledby="userPanelTitle">
      <div class="handle" aria-hidden="true"></div>
      <div class="sheet-header">
        <h3 id="userPanelTitle">Account</h3>
        <button id="userClose" class="icon-btn" title="Close">✕</button>
      </div>
      <div id="userContent" class="account-content"><p class="muted small">Loading…</p></div>
    </div>


    <div
      id="settingsPanel"
      class="panel settings hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="settingsTitle"
    >
      <div class="sheet-header">
        <h3 id="settingsTitle">Settings</h3>
        <button id="settingsClose" class="icon-btn" title="Close">✕</button>
      </div>

      <section>
        <h4>Markers</h4>
        <div class="row">
          <button id="clearBtn" type="button" class="danger">Clear markers</button>
          <button id="reverseBtn" type="button">Reverse route</button>
        </div>
      </section>

      <section>
        <h4>Loop</h4>
        <label class="check">
          <input id="loop" type="checkbox" />
          Return to start (loop route)
        </label>
      </section>

      <section>
        <h4>Target stats</h4>
        <div class="row">
          <div class="field">
            <label for="targetPace" class="small muted">Target pace (mm:ss per km)</label>
            <input id="targetPace" type="text" placeholder="e.g. 5:30" />
          </div>
          <div class="field">
            <label for="targetWeight" class="small muted">Weight (kg)</label>
            <input id="targetWeight" type="number" step="0.1" min="20" max="200" inputmode="decimal" placeholder="e.g. 70" />
          </div>
        </div>
        <p class="small muted">ETA uses target pace. Calories use distance + target pace + weight. Estimates only.</p>
      </section>

      <!-- Routing engine -->
      <section class="field">
        <label class="small">Routing engine</label>
        <div class="row">
          <label class="check">
            <input type="radio" name="engine" id="engineOSRM" value="osrm" checked />
            OSRM (driving)
          </label>
          <label class="check">
            <input type="radio" name="engine" id="engineORS" value="ors" />
            ORS (snap + foot-walking)
          </label>
        </div>
        <p id="engineNote" class="small muted">
          ORS requires an API key. If missing or rate-limited, OSRM will be used.
        </p>
      </section>

      <!-- ORS API key -->
      <section class="field">
        <label class="small" for="orsKey">ORS API key</label>
        <input id="orsKey" type="password"
              placeholder="Paste ORS key… (stored locally only)"
              autocomplete="off" />
      </section>


      <section>
      <h4>Save/Load GPX</h4>
      <div class="row">
        <button id="saveGpxBtn" type="button" disabled>Save GPX</button>
        <button id="loadGpxBtn" type="button">Load GPX</button>
      </div>
      <!-- hidden file input for loading -->
      <input id="loadGpxInput" type="file" accept=".gpx,application/gpx+xml" style="display:none" />
</section>

    </div>
    
    <div id="sheetBackdrop" class="hidden"></div>
    <!-- Map -->
    <div id="map"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
